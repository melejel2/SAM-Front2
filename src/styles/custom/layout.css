:root {
    --layout-sidebar-width: 256px;
}

/* == Layout: Main == */

#layout-main {
    background: var(--layout-background);
}

/* == Layout: Sidebar == */

#layout-sidebar {
    width: var(--layout-sidebar-width);
    min-width: var(--layout-sidebar-width);
    background: var(--layout-sidebar-background);
    max-height: 100vh;

    @apply relative top-0 bottom-0 flex flex-col transition-[margin,_top,_max-height,_border-radius] duration-300;

    &.hide {
        margin-inline-start: calc(var(--layout-sidebar-width) * -1);
    }

    /* == Sidebar: Menu Items == */

    #sidebar-menu {
        @apply mb-4 size-full space-y-0.5 px-2;

        a {
            @apply hover:bg-base-200;

            &.active {
                @apply bg-base-200;
            }
        }

        .sidebar-menu-title {
            @apply text-base-content/70 mx-2.5 my-2 text-sm font-medium;
        }

        .sidebar-menu-item {
            @apply rounded-md flex h-8 items-center gap-2 px-3 text-sm;
        }

        .collapse {
            input {
                @apply min-h-8 p-0;
            }

            .collapse-title {
                @apply peer-hover:bg-base-200 rounded-md flex min-h-8 items-center gap-2 px-3 py-1.5 text-sm;

                .arrow-icon {
                    @apply opacity-60 transition-all;
                }

                &:is(:where(.peer):checked ~ *) {
                    .arrow-icon {
                        @apply rotate-90 opacity-100;
                    }
                }
            }

            .collapse-content {
                @apply ms-6 mt-0.5 space-y-0.5 p-0 pb-0;

                &:before {
                    @apply bg-base-content/10 absolute start-4 top-10 bottom-2 w-px;
                    content: "";
                }
            }
        }
    }
}

/* == Layout: Topbar == */

#layout-topbar {
    background: var(--layout-topbar-background);
    @apply sticky top-0 z-50 max-h-[64px] min-h-[64px] transition-[top,_margin,_border-radius] duration-300;
}

/* == Layout: Content == */

#layout-content {
    @apply grow transition-all;
}

/* == Sidebar: Toggle == */

#layout-sidebar-toggle-trigger:checked ~ #layout-sidebar {
    margin-inline-start: calc(var(--layout-sidebar-width) * -1);
}

/* == Sidebar: @media for small devices (phone, tablet), <= xl size == */

@media (width <= theme(--breakpoint-lg)) {
    #layout-sidebar {
        @apply fixed z-[500];
    }

    /* = Tweaks for hide on mobile device by default = */
    #layout-sidebar-toggle-trigger:not(:checked) ~ #layout-sidebar {
        margin-inline-start: calc(var(--layout-sidebar-width) * -1);
    }
    #layout-sidebar-toggle-trigger:checked ~ #layout-sidebar {
        margin-inline-start: 0;
    }
    #layout-sidebar-toggle-trigger:checked ~ #layout-sidebar-backdrop {
        @apply bg-base-content/5 fixed inset-0 z-[499] transition-all;
    }
}

/* == Overrides: specific to material theme and non-material theme == */

html:not([data-theme="material"]) {
    #layout-sidebar {
        @apply border-base-200 border-e-[1px];
    }

    #layout-topbar {
        @apply border-base-200 border-b;
    }
}

html[data-theme="material"] {
    #layout-sidebar {
        max-height: calc(100vh - 32px);
        @apply rounded-md top-4 bottom-4 ms-4;
    }

    #layout-topbar {
        @apply rounded-md static mx-5 mt-4;
    }
}

/* == New Dashboard Layout Classes == */
/* Following comprehensive padding reference system */

.app-background {
    background: hsl(var(--b2)) !important;
}

.dashboard-layout {
    @apply min-h-screen;
}

.dashboard-content {
    @apply min-h-[calc(100vh-4rem)] w-full; /* Account for 4rem (64px) topbar height */
}

/* Mobile content wrapper - Responsive horizontal padding */
.mobile-content-wrapper {
    @apply px-4 md:px-8; /* Mobile: 16px, Desktop: 32px */
}

/* Safe area padding for mobile bottom navigation - pb-24 equivalent (96px) + safe area */
.pb-safe {
    padding-bottom: env(safe-area-inset-bottom, 1rem); /* Safe area fallback: 16px */
}

/* Blink animation for typing cursor */
@keyframes blink {
    0%, 50% { opacity: 1; }
    51%, 100% { opacity: 0; }
}

/* Modal animations */
@keyframes modal-fade {
    from { opacity: 0; transform: scale(0.95); }
    to { opacity: 1; transform: scale(1); }
}

@keyframes modal-slide-up {
    from { transform: translateY(100%); }
    to { transform: translateY(0); }
}

/* == Comprehensive Padding Reference System == */
/*
Mobile (<768px) Horizontal Padding:
- px-0    (0px)  - Main content container (full width)
- px-2    (8px)  - Bottom navigation, compact controls  
- px-4    (16px) - Topbar, comfortable touch targets

Desktop (â‰¥768px) Horizontal Padding:
- px-3    (12px) - Topbar, tighter desktop spacing
- px-1    (4px)  - Logo container, minimal padding
- left-12 (48px) - VerticalAppNav/Sidebar offset from left

Vertical Spacing Values:
- pb-8     (32px) - Desktop content bottom padding
- pb-4     (16px) - Mobile content bottom padding (via pb-8 md:pb-0)
- pb-24    (96px) - Mobile body padding for bottom navigation
- space-y-4 (16px) - Standard vertical spacing between child elements
- mt-4/mb-4 (16px) - Standard component margins

Special Positioning:
- left-12  (48px) - VerticalAppNav distance from left edge
- top: 4rem (64px) - Distance from top (below topbar)
- marginTop: -48px - Mobile header overlap compensation

Z-index Hierarchy:
- z-30     - VerticalAppNav/Sidebar layer
- z-40     - Mobile topbar layer  
- z-[95]   - Mobile bottom navigation layer
*/
